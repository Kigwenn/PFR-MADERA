
{% extends 'base.html.twig' %}

{% block title %}Hello DevisController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper"> <h1>Dossier estimatif du devis : {{ infosDevis['devi_nom'] }}</h1>

<p>


<table>
    <tr>
        <td>
            <b> Informations du devis : </b> <br>
            Id du devis : {{infosDevis['id']}}  <br>
            Maison : {{infosDevis['mais_nom']}}<br> 
            Gamme : {{infosDevis['gamm_nom']}}<br> 
            Date : {{infosDevis['devi_date']}}<br>
        </td>

        <td>
            <b> Adresse du chantier : </b> <br>
            Pays : {{infosDevis['pays_nom']}}<br> 
            Region : {{infosDevis['adre_region']}}<br> 
            Ville : {{infosDevis['adre_ville']}}<br> 
            Code postale : {{infosDevis['adre_cp']}}<br>
            Rue : {{infosDevis['adre_rue']}}<br>
            Complement d'adresse : {{infosDevis['adre_complement']}}<br>
            Infomartions complémentaire : {{infosDevis['adre_info']}}
        </td>

    </tr>
</table> 
<br>
<table>

    <tr>
        <td>
            <b> Informations du Client : </b> <br>
            Id du client : {{infosClient['id']}}  <br>
            Nom : {{infosClient['pers_nom']}}<br> 
            Prenom : {{infosClient['pers_prenom']}}<br> 
            Mail : {{infosClient['pers_mail']}}<br>
            Tel : {{infosClient['pers_tel']}}
        </td>

        <td>
            <b> Adresse de facturation : </b> <br>
            Pays : {{infosClient['pays_nom']}}<br> 
            Region : {{infosClient['adre_region']}}<br> 
            Ville : {{infosClient['adre_ville']}}<br> 
            Code postale : {{infosClient['adre_cp']}}<br>
            Rue : {{infosClient['adre_rue']}}<br>
            Complement d'adresse : {{infosClient['adre_complement']}}<br>
            Infomartions complémentaire : {{infosClient['adre_info']}}
        </td>
    </tr>
</table>

<br><br>

<b>Liste des modules du devis :</b>
{% for module in listeModules %} 
<h3>Module : {{module.modu_nom}}</h3>
<table> 
  <tr>
    <td><b>id</b> </td>
    <td><b>Nom</b> </td>
    <td><b>Type</b> </td>
    <td><b>CCTP</b> </td>
    <td><b>Prix</b> </td>
  </tr>	 
  <tr>
    <td>{{module.id}}</td>
    <td>{{module.modu_nom}}</td>
    <td>...</td>
    <td>...</td>
    <td>{{module.modu_prix_total}}€</td>
  </tr>
</table>
<h4>Caracteristiques :</h4>
	{% for caracteristique in module.listeCaracteristiques %} 
	<>
	<table> 
	  <tr>
		<b> 
		<td><b>id</b> </td>
		<td><b>Section</b> </td>
		<td><b>Hauteur</b> </td>
		<td><b>Longueur</b> </td>
		<td><b>Type d'angle</b> 
		<td><b>Degre de l'angle</b> </td>
	  </tr>	 
	  <tr>
		<td>{{caracteristique.id}}</td>
		<td>{{caracteristique.cara_section}}</td>
		<td>{{caracteristique.cara_hauteur}}</td>
		<td>{{caracteristique.cara_longueur}}</td>
		<td>{{caracteristique.cara_type_angle}}</td>
		<td>{{caracteristique.cara_degre_angle}}</td>
	  </tr>
	</table>  
	{% endfor %}
	
	<h4>Composant : </h4>
	{% for composant in module.listeComposants %} 
	<table> 
	  <tr>
		<b> 
		<td><b>id</b> </td>
		<td><b>Nom</b> </td>
		<td><b>Type</b> </td>
    <td><b>Prix unitaire</b> </td>
		<td><b>Quantite</b> </td>
		<td><b>Prix total</b> </td>
	  </tr>	 
	  <tr>
		<td>{{composant.id}}</td>
		<td>{{composant.comp_nom}}</td>
    <td>...</td>
		<td>{{composant.comp_prix_unitaire}}</td>
		<td>{{composant.quantite}}</td>
    <td>{{composant.quantite}}*{{composant.comp_prix_unitaire}}</td>
	  </tr>
	</table>  
	{% endfor %}	
	
{% endfor %}
</p>
</div>
<div>
Prix maison : ...€ <br>
Prix huisserie : ...€ <br>
<b> Prix total : {{infosDevis['devi_prix']}}€</b> <br>
</div>
{% endblock %}

